<!DOCTYPE html><html><head><meta charset='utf-8'><title>Abroad Days Grid</title><style>
:root{--size:12px;--gap:1px;}
body{font-family:system-ui,Segoe UI,Arial,sans-serif;padding:16px;}
.legend{margin-bottom:12px} .legend span{display:inline-block;margin-right:12px}
.sw{display:inline-block;width:12px;height:12px;margin-right:6px;vertical-align:middle;}
.sw.home{background:#2ecc71} .sw.abroad{background:#e74c3c} .sw.future{background:#d9d9d9} .sw.planned{background:#f39c12} 
.outer{display:grid;grid-template-columns:56px repeat(12, 1fr);gap:4px;align-items:start;}
.year{font-weight:700;align-self:center;}
.month{border:1px solid #eee;padding:4px;border-radius:4px;}
.month-name{font-size:11px;color:#333;margin-bottom:2px;text-align:center;}
.mini{display:grid;grid-template-columns:repeat(7,var(--size));grid-auto-rows:var(--size);gap:var(--gap);justify-content:center;}
.cell{width:var(--size);height:var(--size);}
.home{background:#2ecc71} .abroad{background:#e74c3c} .future{background:#d9d9d9} .planned{background:#f39c12} 
.empty{background:transparent} 
.months-header{display:grid;grid-template-columns:56px repeat(12, 1fr);gap:4px;margin-bottom:4px;color:#555;font-size:11px;}
.months-header div{ text-align:center }
.panel{margin:12px 0;display:flex;gap:12px;align-items:center;flex-wrap:wrap;}
.panel input[type=date]{padding:4px 6px} .panel .metric{font-size:13px;color:#333}
.status-badge{padding:6px 10px;border-radius:999px;font-weight:700;color:#fff} 
.ok{background:#27ae60} .notok{background:#c0392b}
.plans{margin:10px 0;} .plans h3{margin:8px 0 6px 0;font-size:14px} .plans table{border-collapse:collapse;width:100%;max-width:760px} .plans th,.plans td{border-bottom:1px solid #eee;padding:4px 6px;font-size:12px;text-align:left} .plans input[type=date]{padding:2px 4px;font-size:12px} .plans button{padding:4px 8px;font-size:12px}
</style></head><body><h2>Abroad Days</h2><div class='legend'><span><span class='sw home'></span>Home</span><span><span class='sw abroad'></span>Abroad (past/present)</span><span><span class='sw planned'></span>Abroad (future)</span><span><span class='sw future'></span>Future (home)</span></div><div class='panel'><span id='status' class='status-badge ok'>COMPLIANT</span><span class='metric' id='worst'></span><label>Query start: <input id='qstart' type='date'></label><span class='metric' id='remaining'></span><label style='margin-left:12px'>Add trip: <input id='pstart' type='date'> â€“ <input id='pend' type='date'></label><button id='addPlan' type='button'>Add trip</button><button id='clearPlan' type='button'>Clear added trips</button></div><div class='plans'><h3>Added trips</h3><table id='plansTable'><thead><tr><th>#</th><th>Start</th><th>End</th><th>Days</th><th></th></tr></thead><tbody></tbody></table></div><div class='months-header' id='monthsHeader'><div></div><div>Jan</div><div>Feb</div><div>Mar</div><div>Apr</div><div>May</div><div>Jun</div><div>Jul</div><div>Aug</div><div>Sep</div><div>Oct</div><div>Nov</div><div>Dec</div></div><div class='outer' id='outer' data-last-year='2025'><div class='year'>2024</div><div class='month'></div><div class='month'></div><div class='month'></div><div class='month'><div class='month-name'>Apr</div><div class='mini'><div class='cell home' data-idx='0' title='2024-04-01'></div><div class='cell home' data-idx='1' title='2024-04-02'></div><div class='cell home' data-idx='2' title='2024-04-03'></div><div class='cell home' data-idx='3' title='2024-04-04'></div><div class='cell home' data-idx='4' title='2024-04-05'></div><div class='cell home' data-idx='5' title='2024-04-06'></div><div class='cell home' data-idx='6' title='2024-04-07'></div><div class='cell home' data-idx='7' title='2024-04-08'></div><div class='cell home' data-idx='8' title='2024-04-09'></div><div class='cell home' data-idx='9' title='2024-04-10'></div><div class='cell home' data-idx='10' title='2024-04-11'></div><div class='cell home' data-idx='11' title='2024-04-12'></div><div class='cell home' data-idx='12' title='2024-04-13'></div><div class='cell home' data-idx='13' title='2024-04-14'></div><div class='cell home' data-idx='14' title='2024-04-15'></div><div class='cell home' data-idx='15' title='2024-04-16'></div><div class='cell home' data-idx='16' title='2024-04-17'></div><div class='cell home' data-idx='17' title='2024-04-18'></div><div class='cell home' data-idx='18' title='2024-04-19'></div><div class='cell home' data-idx='19' title='2024-04-20'></div><div class='cell home' data-idx='20' title='2024-04-21'></div><div class='cell home' data-idx='21' title='2024-04-22'></div><div class='cell home' data-idx='22' title='2024-04-23'></div><div class='cell home' data-idx='23' title='2024-04-24'></div><div class='cell home' data-idx='24' title='2024-04-25'></div><div class='cell home' data-idx='25' title='2024-04-26'></div><div class='cell home' data-idx='26' title='2024-04-27'></div><div class='cell home' data-idx='27' title='2024-04-28'></div><div class='cell home' data-idx='28' title='2024-04-29'></div><div class='cell home' data-idx='29' title='2024-04-30'></div></div></div><div class='month'><div class='month-name'>May</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='30' title='2024-05-01'></div><div class='cell home' data-idx='31' title='2024-05-02'></div><div class='cell home' data-idx='32' title='2024-05-03'></div><div class='cell home' data-idx='33' title='2024-05-04'></div><div class='cell home' data-idx='34' title='2024-05-05'></div><div class='cell home' data-idx='35' title='2024-05-06'></div><div class='cell home' data-idx='36' title='2024-05-07'></div><div class='cell home' data-idx='37' title='2024-05-08'></div><div class='cell home' data-idx='38' title='2024-05-09'></div><div class='cell home' data-idx='39' title='2024-05-10'></div><div class='cell home' data-idx='40' title='2024-05-11'></div><div class='cell home' data-idx='41' title='2024-05-12'></div><div class='cell home' data-idx='42' title='2024-05-13'></div><div class='cell home' data-idx='43' title='2024-05-14'></div><div class='cell home' data-idx='44' title='2024-05-15'></div><div class='cell home' data-idx='45' title='2024-05-16'></div><div class='cell home' data-idx='46' title='2024-05-17'></div><div class='cell home' data-idx='47' title='2024-05-18'></div><div class='cell home' data-idx='48' title='2024-05-19'></div><div class='cell home' data-idx='49' title='2024-05-20'></div><div class='cell home' data-idx='50' title='2024-05-21'></div><div class='cell home' data-idx='51' title='2024-05-22'></div><div class='cell home' data-idx='52' title='2024-05-23'></div><div class='cell home' data-idx='53' title='2024-05-24'></div><div class='cell home' data-idx='54' title='2024-05-25'></div><div class='cell home' data-idx='55' title='2024-05-26'></div><div class='cell home' data-idx='56' title='2024-05-27'></div><div class='cell home' data-idx='57' title='2024-05-28'></div><div class='cell home' data-idx='58' title='2024-05-29'></div><div class='cell home' data-idx='59' title='2024-05-30'></div><div class='cell home' data-idx='60' title='2024-05-31'></div></div></div><div class='month'><div class='month-name'>Jun</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='61' title='2024-06-01'></div><div class='cell home' data-idx='62' title='2024-06-02'></div><div class='cell home' data-idx='63' title='2024-06-03'></div><div class='cell home' data-idx='64' title='2024-06-04'></div><div class='cell home' data-idx='65' title='2024-06-05'></div><div class='cell home' data-idx='66' title='2024-06-06'></div><div class='cell home' data-idx='67' title='2024-06-07'></div><div class='cell home' data-idx='68' title='2024-06-08'></div><div class='cell home' data-idx='69' title='2024-06-09'></div><div class='cell home' data-idx='70' title='2024-06-10'></div><div class='cell home' data-idx='71' title='2024-06-11'></div><div class='cell home' data-idx='72' title='2024-06-12'></div><div class='cell home' data-idx='73' title='2024-06-13'></div><div class='cell home' data-idx='74' title='2024-06-14'></div><div class='cell home' data-idx='75' title='2024-06-15'></div><div class='cell home' data-idx='76' title='2024-06-16'></div><div class='cell home' data-idx='77' title='2024-06-17'></div><div class='cell home' data-idx='78' title='2024-06-18'></div><div class='cell home' data-idx='79' title='2024-06-19'></div><div class='cell home' data-idx='80' title='2024-06-20'></div><div class='cell home' data-idx='81' title='2024-06-21'></div><div class='cell home' data-idx='82' title='2024-06-22'></div><div class='cell home' data-idx='83' title='2024-06-23'></div><div class='cell home' data-idx='84' title='2024-06-24'></div><div class='cell home' data-idx='85' title='2024-06-25'></div><div class='cell home' data-idx='86' title='2024-06-26'></div><div class='cell home' data-idx='87' title='2024-06-27'></div><div class='cell home' data-idx='88' title='2024-06-28'></div><div class='cell home' data-idx='89' title='2024-06-29'></div><div class='cell home' data-idx='90' title='2024-06-30'></div></div></div><div class='month'><div class='month-name'>Jul</div><div class='mini'><div class='cell home' data-idx='91' title='2024-07-01'></div><div class='cell home' data-idx='92' title='2024-07-02'></div><div class='cell home' data-idx='93' title='2024-07-03'></div><div class='cell home' data-idx='94' title='2024-07-04'></div><div class='cell home' data-idx='95' title='2024-07-05'></div><div class='cell home' data-idx='96' title='2024-07-06'></div><div class='cell home' data-idx='97' title='2024-07-07'></div><div class='cell home' data-idx='98' title='2024-07-08'></div><div class='cell home' data-idx='99' title='2024-07-09'></div><div class='cell home' data-idx='100' title='2024-07-10'></div><div class='cell home' data-idx='101' title='2024-07-11'></div><div class='cell home' data-idx='102' title='2024-07-12'></div><div class='cell home' data-idx='103' title='2024-07-13'></div><div class='cell home' data-idx='104' title='2024-07-14'></div><div class='cell home' data-idx='105' title='2024-07-15'></div><div class='cell home' data-idx='106' title='2024-07-16'></div><div class='cell home' data-idx='107' title='2024-07-17'></div><div class='cell home' data-idx='108' title='2024-07-18'></div><div class='cell home' data-idx='109' title='2024-07-19'></div><div class='cell home' data-idx='110' title='2024-07-20'></div><div class='cell home' data-idx='111' title='2024-07-21'></div><div class='cell home' data-idx='112' title='2024-07-22'></div><div class='cell home' data-idx='113' title='2024-07-23'></div><div class='cell home' data-idx='114' title='2024-07-24'></div><div class='cell home' data-idx='115' title='2024-07-25'></div><div class='cell home' data-idx='116' title='2024-07-26'></div><div class='cell home' data-idx='117' title='2024-07-27'></div><div class='cell home' data-idx='118' title='2024-07-28'></div><div class='cell home' data-idx='119' title='2024-07-29'></div><div class='cell home' data-idx='120' title='2024-07-30'></div><div class='cell home' data-idx='121' title='2024-07-31'></div></div></div><div class='month'><div class='month-name'>Aug</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='122' title='2024-08-01'></div><div class='cell home' data-idx='123' title='2024-08-02'></div><div class='cell home' data-idx='124' title='2024-08-03'></div><div class='cell home' data-idx='125' title='2024-08-04'></div><div class='cell home' data-idx='126' title='2024-08-05'></div><div class='cell home' data-idx='127' title='2024-08-06'></div><div class='cell home' data-idx='128' title='2024-08-07'></div><div class='cell home' data-idx='129' title='2024-08-08'></div><div class='cell home' data-idx='130' title='2024-08-09'></div><div class='cell home' data-idx='131' title='2024-08-10'></div><div class='cell home' data-idx='132' title='2024-08-11'></div><div class='cell home' data-idx='133' title='2024-08-12'></div><div class='cell home' data-idx='134' title='2024-08-13'></div><div class='cell home' data-idx='135' title='2024-08-14'></div><div class='cell home' data-idx='136' title='2024-08-15'></div><div class='cell home' data-idx='137' title='2024-08-16'></div><div class='cell home' data-idx='138' title='2024-08-17'></div><div class='cell home' data-idx='139' title='2024-08-18'></div><div class='cell home' data-idx='140' title='2024-08-19'></div><div class='cell home' data-idx='141' title='2024-08-20'></div><div class='cell home' data-idx='142' title='2024-08-21'></div><div class='cell home' data-idx='143' title='2024-08-22'></div><div class='cell home' data-idx='144' title='2024-08-23'></div><div class='cell home' data-idx='145' title='2024-08-24'></div><div class='cell home' data-idx='146' title='2024-08-25'></div><div class='cell home' data-idx='147' title='2024-08-26'></div><div class='cell home' data-idx='148' title='2024-08-27'></div><div class='cell home' data-idx='149' title='2024-08-28'></div><div class='cell home' data-idx='150' title='2024-08-29'></div><div class='cell home' data-idx='151' title='2024-08-30'></div><div class='cell home' data-idx='152' title='2024-08-31'></div></div></div><div class='month'><div class='month-name'>Sep</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='153' title='2024-09-01'></div><div class='cell home' data-idx='154' title='2024-09-02'></div><div class='cell home' data-idx='155' title='2024-09-03'></div><div class='cell home' data-idx='156' title='2024-09-04'></div><div class='cell home' data-idx='157' title='2024-09-05'></div><div class='cell home' data-idx='158' title='2024-09-06'></div><div class='cell home' data-idx='159' title='2024-09-07'></div><div class='cell home' data-idx='160' title='2024-09-08'></div><div class='cell home' data-idx='161' title='2024-09-09'></div><div class='cell home' data-idx='162' title='2024-09-10'></div><div class='cell home' data-idx='163' title='2024-09-11'></div><div class='cell home' data-idx='164' title='2024-09-12'></div><div class='cell home' data-idx='165' title='2024-09-13'></div><div class='cell home' data-idx='166' title='2024-09-14'></div><div class='cell home' data-idx='167' title='2024-09-15'></div><div class='cell home' data-idx='168' title='2024-09-16'></div><div class='cell home' data-idx='169' title='2024-09-17'></div><div class='cell home' data-idx='170' title='2024-09-18'></div><div class='cell home' data-idx='171' title='2024-09-19'></div><div class='cell home' data-idx='172' title='2024-09-20'></div><div class='cell home' data-idx='173' title='2024-09-21'></div><div class='cell home' data-idx='174' title='2024-09-22'></div><div class='cell home' data-idx='175' title='2024-09-23'></div><div class='cell home' data-idx='176' title='2024-09-24'></div><div class='cell home' data-idx='177' title='2024-09-25'></div><div class='cell home' data-idx='178' title='2024-09-26'></div><div class='cell home' data-idx='179' title='2024-09-27'></div><div class='cell home' data-idx='180' title='2024-09-28'></div><div class='cell home' data-idx='181' title='2024-09-29'></div><div class='cell home' data-idx='182' title='2024-09-30'></div></div></div><div class='month'><div class='month-name'>Oct</div><div class='mini'><div class='cell empty'></div><div class='cell home' data-idx='183' title='2024-10-01'></div><div class='cell home' data-idx='184' title='2024-10-02'></div><div class='cell home' data-idx='185' title='2024-10-03'></div><div class='cell home' data-idx='186' title='2024-10-04'></div><div class='cell home' data-idx='187' title='2024-10-05'></div><div class='cell home' data-idx='188' title='2024-10-06'></div><div class='cell home' data-idx='189' title='2024-10-07'></div><div class='cell home' data-idx='190' title='2024-10-08'></div><div class='cell home' data-idx='191' title='2024-10-09'></div><div class='cell home' data-idx='192' title='2024-10-10'></div><div class='cell home' data-idx='193' title='2024-10-11'></div><div class='cell home' data-idx='194' title='2024-10-12'></div><div class='cell home' data-idx='195' title='2024-10-13'></div><div class='cell home' data-idx='196' title='2024-10-14'></div><div class='cell home' data-idx='197' title='2024-10-15'></div><div class='cell home' data-idx='198' title='2024-10-16'></div><div class='cell home' data-idx='199' title='2024-10-17'></div><div class='cell home' data-idx='200' title='2024-10-18'></div><div class='cell home' data-idx='201' title='2024-10-19'></div><div class='cell home' data-idx='202' title='2024-10-20'></div><div class='cell home' data-idx='203' title='2024-10-21'></div><div class='cell home' data-idx='204' title='2024-10-22'></div><div class='cell home' data-idx='205' title='2024-10-23'></div><div class='cell home' data-idx='206' title='2024-10-24'></div><div class='cell home' data-idx='207' title='2024-10-25'></div><div class='cell home' data-idx='208' title='2024-10-26'></div><div class='cell home' data-idx='209' title='2024-10-27'></div><div class='cell home' data-idx='210' title='2024-10-28'></div><div class='cell home' data-idx='211' title='2024-10-29'></div><div class='cell home' data-idx='212' title='2024-10-30'></div><div class='cell home' data-idx='213' title='2024-10-31'></div></div></div><div class='month'><div class='month-name'>Nov</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='214' title='2024-11-01'></div><div class='cell home' data-idx='215' title='2024-11-02'></div><div class='cell home' data-idx='216' title='2024-11-03'></div><div class='cell home' data-idx='217' title='2024-11-04'></div><div class='cell home' data-idx='218' title='2024-11-05'></div><div class='cell home' data-idx='219' title='2024-11-06'></div><div class='cell home' data-idx='220' title='2024-11-07'></div><div class='cell home' data-idx='221' title='2024-11-08'></div><div class='cell home' data-idx='222' title='2024-11-09'></div><div class='cell home' data-idx='223' title='2024-11-10'></div><div class='cell home' data-idx='224' title='2024-11-11'></div><div class='cell home' data-idx='225' title='2024-11-12'></div><div class='cell home' data-idx='226' title='2024-11-13'></div><div class='cell home' data-idx='227' title='2024-11-14'></div><div class='cell home' data-idx='228' title='2024-11-15'></div><div class='cell home' data-idx='229' title='2024-11-16'></div><div class='cell home' data-idx='230' title='2024-11-17'></div><div class='cell home' data-idx='231' title='2024-11-18'></div><div class='cell home' data-idx='232' title='2024-11-19'></div><div class='cell home' data-idx='233' title='2024-11-20'></div><div class='cell home' data-idx='234' title='2024-11-21'></div><div class='cell home' data-idx='235' title='2024-11-22'></div><div class='cell home' data-idx='236' title='2024-11-23'></div><div class='cell home' data-idx='237' title='2024-11-24'></div><div class='cell home' data-idx='238' title='2024-11-25'></div><div class='cell home' data-idx='239' title='2024-11-26'></div><div class='cell home' data-idx='240' title='2024-11-27'></div><div class='cell home' data-idx='241' title='2024-11-28'></div><div class='cell home' data-idx='242' title='2024-11-29'></div><div class='cell home' data-idx='243' title='2024-11-30'></div></div></div><div class='month'><div class='month-name'>Dec</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='244' title='2024-12-01'></div><div class='cell home' data-idx='245' title='2024-12-02'></div><div class='cell home' data-idx='246' title='2024-12-03'></div><div class='cell home' data-idx='247' title='2024-12-04'></div><div class='cell home' data-idx='248' title='2024-12-05'></div><div class='cell home' data-idx='249' title='2024-12-06'></div><div class='cell home' data-idx='250' title='2024-12-07'></div><div class='cell home' data-idx='251' title='2024-12-08'></div><div class='cell home' data-idx='252' title='2024-12-09'></div><div class='cell home' data-idx='253' title='2024-12-10'></div><div class='cell home' data-idx='254' title='2024-12-11'></div><div class='cell home' data-idx='255' title='2024-12-12'></div><div class='cell home' data-idx='256' title='2024-12-13'></div><div class='cell home' data-idx='257' title='2024-12-14'></div><div class='cell home' data-idx='258' title='2024-12-15'></div><div class='cell home' data-idx='259' title='2024-12-16'></div><div class='cell home' data-idx='260' title='2024-12-17'></div><div class='cell home' data-idx='261' title='2024-12-18'></div><div class='cell home' data-idx='262' title='2024-12-19'></div><div class='cell home' data-idx='263' title='2024-12-20'></div><div class='cell home' data-idx='264' title='2024-12-21'></div><div class='cell home' data-idx='265' title='2024-12-22'></div><div class='cell home' data-idx='266' title='2024-12-23'></div><div class='cell home' data-idx='267' title='2024-12-24'></div><div class='cell home' data-idx='268' title='2024-12-25'></div><div class='cell home' data-idx='269' title='2024-12-26'></div><div class='cell home' data-idx='270' title='2024-12-27'></div><div class='cell home' data-idx='271' title='2024-12-28'></div><div class='cell home' data-idx='272' title='2024-12-29'></div><div class='cell home' data-idx='273' title='2024-12-30'></div><div class='cell home' data-idx='274' title='2024-12-31'></div></div></div><div class='year'>2025</div><div class='month'><div class='month-name'>Jan</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='275' title='2025-01-01'></div><div class='cell home' data-idx='276' title='2025-01-02'></div><div class='cell home' data-idx='277' title='2025-01-03'></div><div class='cell home' data-idx='278' title='2025-01-04'></div><div class='cell home' data-idx='279' title='2025-01-05'></div><div class='cell home' data-idx='280' title='2025-01-06'></div><div class='cell home' data-idx='281' title='2025-01-07'></div><div class='cell home' data-idx='282' title='2025-01-08'></div><div class='cell home' data-idx='283' title='2025-01-09'></div><div class='cell home' data-idx='284' title='2025-01-10'></div><div class='cell home' data-idx='285' title='2025-01-11'></div><div class='cell home' data-idx='286' title='2025-01-12'></div><div class='cell home' data-idx='287' title='2025-01-13'></div><div class='cell home' data-idx='288' title='2025-01-14'></div><div class='cell home' data-idx='289' title='2025-01-15'></div><div class='cell home' data-idx='290' title='2025-01-16'></div><div class='cell home' data-idx='291' title='2025-01-17'></div><div class='cell home' data-idx='292' title='2025-01-18'></div><div class='cell home' data-idx='293' title='2025-01-19'></div><div class='cell home' data-idx='294' title='2025-01-20'></div><div class='cell home' data-idx='295' title='2025-01-21'></div><div class='cell home' data-idx='296' title='2025-01-22'></div><div class='cell home' data-idx='297' title='2025-01-23'></div><div class='cell home' data-idx='298' title='2025-01-24'></div><div class='cell home' data-idx='299' title='2025-01-25'></div><div class='cell home' data-idx='300' title='2025-01-26'></div><div class='cell home' data-idx='301' title='2025-01-27'></div><div class='cell home' data-idx='302' title='2025-01-28'></div><div class='cell home' data-idx='303' title='2025-01-29'></div><div class='cell home' data-idx='304' title='2025-01-30'></div><div class='cell home' data-idx='305' title='2025-01-31'></div></div></div><div class='month'><div class='month-name'>Feb</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='306' title='2025-02-01'></div><div class='cell home' data-idx='307' title='2025-02-02'></div><div class='cell home' data-idx='308' title='2025-02-03'></div><div class='cell home' data-idx='309' title='2025-02-04'></div><div class='cell home' data-idx='310' title='2025-02-05'></div><div class='cell home' data-idx='311' title='2025-02-06'></div><div class='cell home' data-idx='312' title='2025-02-07'></div><div class='cell home' data-idx='313' title='2025-02-08'></div><div class='cell home' data-idx='314' title='2025-02-09'></div><div class='cell home' data-idx='315' title='2025-02-10'></div><div class='cell home' data-idx='316' title='2025-02-11'></div><div class='cell home' data-idx='317' title='2025-02-12'></div><div class='cell home' data-idx='318' title='2025-02-13'></div><div class='cell home' data-idx='319' title='2025-02-14'></div><div class='cell home' data-idx='320' title='2025-02-15'></div><div class='cell home' data-idx='321' title='2025-02-16'></div><div class='cell home' data-idx='322' title='2025-02-17'></div><div class='cell home' data-idx='323' title='2025-02-18'></div><div class='cell home' data-idx='324' title='2025-02-19'></div><div class='cell home' data-idx='325' title='2025-02-20'></div><div class='cell home' data-idx='326' title='2025-02-21'></div><div class='cell home' data-idx='327' title='2025-02-22'></div><div class='cell home' data-idx='328' title='2025-02-23'></div><div class='cell home' data-idx='329' title='2025-02-24'></div><div class='cell home' data-idx='330' title='2025-02-25'></div><div class='cell home' data-idx='331' title='2025-02-26'></div><div class='cell home' data-idx='332' title='2025-02-27'></div><div class='cell home' data-idx='333' title='2025-02-28'></div></div></div><div class='month'><div class='month-name'>Mar</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='334' title='2025-03-01'></div><div class='cell home' data-idx='335' title='2025-03-02'></div><div class='cell home' data-idx='336' title='2025-03-03'></div><div class='cell home' data-idx='337' title='2025-03-04'></div><div class='cell home' data-idx='338' title='2025-03-05'></div><div class='cell home' data-idx='339' title='2025-03-06'></div><div class='cell home' data-idx='340' title='2025-03-07'></div><div class='cell home' data-idx='341' title='2025-03-08'></div><div class='cell home' data-idx='342' title='2025-03-09'></div><div class='cell home' data-idx='343' title='2025-03-10'></div><div class='cell home' data-idx='344' title='2025-03-11'></div><div class='cell home' data-idx='345' title='2025-03-12'></div><div class='cell home' data-idx='346' title='2025-03-13'></div><div class='cell home' data-idx='347' title='2025-03-14'></div><div class='cell home' data-idx='348' title='2025-03-15'></div><div class='cell abroad' data-idx='349' title='2025-03-16'></div><div class='cell abroad' data-idx='350' title='2025-03-17'></div><div class='cell abroad' data-idx='351' title='2025-03-18'></div><div class='cell abroad' data-idx='352' title='2025-03-19'></div><div class='cell abroad' data-idx='353' title='2025-03-20'></div><div class='cell abroad' data-idx='354' title='2025-03-21'></div><div class='cell abroad' data-idx='355' title='2025-03-22'></div><div class='cell abroad' data-idx='356' title='2025-03-23'></div><div class='cell abroad' data-idx='357' title='2025-03-24'></div><div class='cell abroad' data-idx='358' title='2025-03-25'></div><div class='cell abroad' data-idx='359' title='2025-03-26'></div><div class='cell abroad' data-idx='360' title='2025-03-27'></div><div class='cell abroad' data-idx='361' title='2025-03-28'></div><div class='cell abroad' data-idx='362' title='2025-03-29'></div><div class='cell abroad' data-idx='363' title='2025-03-30'></div><div class='cell abroad' data-idx='364' title='2025-03-31'></div></div></div><div class='month'><div class='month-name'>Apr</div><div class='mini'><div class='cell empty'></div><div class='cell abroad' data-idx='365' title='2025-04-01'></div><div class='cell abroad' data-idx='366' title='2025-04-02'></div><div class='cell abroad' data-idx='367' title='2025-04-03'></div><div class='cell abroad' data-idx='368' title='2025-04-04'></div><div class='cell abroad' data-idx='369' title='2025-04-05'></div><div class='cell abroad' data-idx='370' title='2025-04-06'></div><div class='cell abroad' data-idx='371' title='2025-04-07'></div><div class='cell abroad' data-idx='372' title='2025-04-08'></div><div class='cell abroad' data-idx='373' title='2025-04-09'></div><div class='cell abroad' data-idx='374' title='2025-04-10'></div><div class='cell abroad' data-idx='375' title='2025-04-11'></div><div class='cell abroad' data-idx='376' title='2025-04-12'></div><div class='cell abroad' data-idx='377' title='2025-04-13'></div><div class='cell abroad' data-idx='378' title='2025-04-14'></div><div class='cell abroad' data-idx='379' title='2025-04-15'></div><div class='cell abroad' data-idx='380' title='2025-04-16'></div><div class='cell abroad' data-idx='381' title='2025-04-17'></div><div class='cell abroad' data-idx='382' title='2025-04-18'></div><div class='cell abroad' data-idx='383' title='2025-04-19'></div><div class='cell abroad' data-idx='384' title='2025-04-20'></div><div class='cell abroad' data-idx='385' title='2025-04-21'></div><div class='cell abroad' data-idx='386' title='2025-04-22'></div><div class='cell abroad' data-idx='387' title='2025-04-23'></div><div class='cell home' data-idx='388' title='2025-04-24'></div><div class='cell home' data-idx='389' title='2025-04-25'></div><div class='cell home' data-idx='390' title='2025-04-26'></div><div class='cell home' data-idx='391' title='2025-04-27'></div><div class='cell home' data-idx='392' title='2025-04-28'></div><div class='cell home' data-idx='393' title='2025-04-29'></div><div class='cell home' data-idx='394' title='2025-04-30'></div></div></div><div class='month'><div class='month-name'>May</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='395' title='2025-05-01'></div><div class='cell home' data-idx='396' title='2025-05-02'></div><div class='cell home' data-idx='397' title='2025-05-03'></div><div class='cell home' data-idx='398' title='2025-05-04'></div><div class='cell home' data-idx='399' title='2025-05-05'></div><div class='cell home' data-idx='400' title='2025-05-06'></div><div class='cell home' data-idx='401' title='2025-05-07'></div><div class='cell home' data-idx='402' title='2025-05-08'></div><div class='cell home' data-idx='403' title='2025-05-09'></div><div class='cell home' data-idx='404' title='2025-05-10'></div><div class='cell home' data-idx='405' title='2025-05-11'></div><div class='cell home' data-idx='406' title='2025-05-12'></div><div class='cell home' data-idx='407' title='2025-05-13'></div><div class='cell home' data-idx='408' title='2025-05-14'></div><div class='cell home' data-idx='409' title='2025-05-15'></div><div class='cell home' data-idx='410' title='2025-05-16'></div><div class='cell home' data-idx='411' title='2025-05-17'></div><div class='cell home' data-idx='412' title='2025-05-18'></div><div class='cell home' data-idx='413' title='2025-05-19'></div><div class='cell home' data-idx='414' title='2025-05-20'></div><div class='cell home' data-idx='415' title='2025-05-21'></div><div class='cell home' data-idx='416' title='2025-05-22'></div><div class='cell home' data-idx='417' title='2025-05-23'></div><div class='cell home' data-idx='418' title='2025-05-24'></div><div class='cell home' data-idx='419' title='2025-05-25'></div><div class='cell home' data-idx='420' title='2025-05-26'></div><div class='cell home' data-idx='421' title='2025-05-27'></div><div class='cell home' data-idx='422' title='2025-05-28'></div><div class='cell home' data-idx='423' title='2025-05-29'></div><div class='cell home' data-idx='424' title='2025-05-30'></div><div class='cell home' data-idx='425' title='2025-05-31'></div></div></div><div class='month'><div class='month-name'>Jun</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='426' title='2025-06-01'></div><div class='cell home' data-idx='427' title='2025-06-02'></div><div class='cell home' data-idx='428' title='2025-06-03'></div><div class='cell home' data-idx='429' title='2025-06-04'></div><div class='cell home' data-idx='430' title='2025-06-05'></div><div class='cell home' data-idx='431' title='2025-06-06'></div><div class='cell home' data-idx='432' title='2025-06-07'></div><div class='cell home' data-idx='433' title='2025-06-08'></div><div class='cell home' data-idx='434' title='2025-06-09'></div><div class='cell home' data-idx='435' title='2025-06-10'></div><div class='cell home' data-idx='436' title='2025-06-11'></div><div class='cell home' data-idx='437' title='2025-06-12'></div><div class='cell home' data-idx='438' title='2025-06-13'></div><div class='cell home' data-idx='439' title='2025-06-14'></div><div class='cell home' data-idx='440' title='2025-06-15'></div><div class='cell home' data-idx='441' title='2025-06-16'></div><div class='cell home' data-idx='442' title='2025-06-17'></div><div class='cell home' data-idx='443' title='2025-06-18'></div><div class='cell home' data-idx='444' title='2025-06-19'></div><div class='cell home' data-idx='445' title='2025-06-20'></div><div class='cell home' data-idx='446' title='2025-06-21'></div><div class='cell home' data-idx='447' title='2025-06-22'></div><div class='cell home' data-idx='448' title='2025-06-23'></div><div class='cell home' data-idx='449' title='2025-06-24'></div><div class='cell home' data-idx='450' title='2025-06-25'></div><div class='cell home' data-idx='451' title='2025-06-26'></div><div class='cell home' data-idx='452' title='2025-06-27'></div><div class='cell home' data-idx='453' title='2025-06-28'></div><div class='cell abroad' data-idx='454' title='2025-06-29'></div><div class='cell abroad' data-idx='455' title='2025-06-30'></div></div></div><div class='month'><div class='month-name'>Jul</div><div class='mini'><div class='cell empty'></div><div class='cell abroad' data-idx='456' title='2025-07-01'></div><div class='cell abroad' data-idx='457' title='2025-07-02'></div><div class='cell abroad' data-idx='458' title='2025-07-03'></div><div class='cell abroad' data-idx='459' title='2025-07-04'></div><div class='cell home' data-idx='460' title='2025-07-05'></div><div class='cell home' data-idx='461' title='2025-07-06'></div><div class='cell home' data-idx='462' title='2025-07-07'></div><div class='cell home' data-idx='463' title='2025-07-08'></div><div class='cell home' data-idx='464' title='2025-07-09'></div><div class='cell home' data-idx='465' title='2025-07-10'></div><div class='cell home' data-idx='466' title='2025-07-11'></div><div class='cell home' data-idx='467' title='2025-07-12'></div><div class='cell home' data-idx='468' title='2025-07-13'></div><div class='cell home' data-idx='469' title='2025-07-14'></div><div class='cell home' data-idx='470' title='2025-07-15'></div><div class='cell abroad' data-idx='471' title='2025-07-16'></div><div class='cell abroad' data-idx='472' title='2025-07-17'></div><div class='cell abroad' data-idx='473' title='2025-07-18'></div><div class='cell abroad' data-idx='474' title='2025-07-19'></div><div class='cell abroad' data-idx='475' title='2025-07-20'></div><div class='cell abroad' data-idx='476' title='2025-07-21'></div><div class='cell abroad' data-idx='477' title='2025-07-22'></div><div class='cell abroad' data-idx='478' title='2025-07-23'></div><div class='cell abroad' data-idx='479' title='2025-07-24'></div><div class='cell abroad' data-idx='480' title='2025-07-25'></div><div class='cell abroad' data-idx='481' title='2025-07-26'></div><div class='cell abroad' data-idx='482' title='2025-07-27'></div><div class='cell abroad' data-idx='483' title='2025-07-28'></div><div class='cell abroad' data-idx='484' title='2025-07-29'></div><div class='cell abroad' data-idx='485' title='2025-07-30'></div><div class='cell abroad' data-idx='486' title='2025-07-31'></div></div></div><div class='month'><div class='month-name'>Aug</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell abroad' data-idx='487' title='2025-08-01'></div><div class='cell abroad' data-idx='488' title='2025-08-02'></div><div class='cell abroad' data-idx='489' title='2025-08-03'></div><div class='cell abroad' data-idx='490' title='2025-08-04'></div><div class='cell abroad' data-idx='491' title='2025-08-05'></div><div class='cell abroad' data-idx='492' title='2025-08-06'></div><div class='cell abroad' data-idx='493' title='2025-08-07'></div><div class='cell abroad' data-idx='494' title='2025-08-08'></div><div class='cell abroad' data-idx='495' title='2025-08-09'></div><div class='cell abroad' data-idx='496' title='2025-08-10'></div><div class='cell abroad' data-idx='497' title='2025-08-11'></div><div class='cell abroad' data-idx='498' title='2025-08-12'></div><div class='cell abroad' data-idx='499' title='2025-08-13'></div><div class='cell abroad' data-idx='500' title='2025-08-14'></div><div class='cell abroad' data-idx='501' title='2025-08-15'></div><div class='cell abroad' data-idx='502' title='2025-08-16'></div><div class='cell abroad' data-idx='503' title='2025-08-17'></div><div class='cell abroad' data-idx='504' title='2025-08-18'></div><div class='cell abroad' data-idx='505' title='2025-08-19'></div><div class='cell abroad' data-idx='506' title='2025-08-20'></div><div class='cell abroad' data-idx='507' title='2025-08-21'></div><div class='cell abroad' data-idx='508' title='2025-08-22'></div><div class='cell abroad' data-idx='509' title='2025-08-23'></div><div class='cell abroad' data-idx='510' title='2025-08-24'></div><div class='cell abroad' data-idx='511' title='2025-08-25'></div><div class='cell abroad' data-idx='512' title='2025-08-26'></div><div class='cell abroad' data-idx='513' title='2025-08-27'></div><div class='cell abroad' data-idx='514' title='2025-08-28'></div><div class='cell abroad' data-idx='515' title='2025-08-29'></div><div class='cell abroad' data-idx='516' title='2025-08-30'></div><div class='cell abroad' data-idx='517' title='2025-08-31'></div></div></div><div class='month'><div class='month-name'>Sep</div><div class='mini'><div class='cell abroad' data-idx='518' title='2025-09-01'></div><div class='cell abroad' data-idx='519' title='2025-09-02'></div><div class='cell abroad' data-idx='520' title='2025-09-03'></div><div class='cell abroad' data-idx='521' title='2025-09-04'></div><div class='cell abroad' data-idx='522' title='2025-09-05'></div><div class='cell abroad' data-idx='523' title='2025-09-06'></div><div class='cell abroad' data-idx='524' title='2025-09-07'></div><div class='cell abroad' data-idx='525' title='2025-09-08'></div><div class='cell abroad' data-idx='526' title='2025-09-09'></div><div class='cell abroad' data-idx='527' title='2025-09-10'></div><div class='cell abroad' data-idx='528' title='2025-09-11'></div><div class='cell abroad' data-idx='529' title='2025-09-12'></div><div class='cell abroad' data-idx='530' title='2025-09-13'></div><div class='cell abroad' data-idx='531' title='2025-09-14'></div><div class='cell abroad' data-idx='532' title='2025-09-15'></div><div class='cell abroad' data-idx='533' title='2025-09-16'></div><div class='cell abroad' data-idx='534' title='2025-09-17'></div><div class='cell abroad' data-idx='535' title='2025-09-18'></div><div class='cell abroad' data-idx='536' title='2025-09-19'></div><div class='cell abroad' data-idx='537' title='2025-09-20'></div><div class='cell abroad' data-idx='538' title='2025-09-21'></div><div class='cell abroad' data-idx='539' title='2025-09-22'></div><div class='cell abroad' data-idx='540' title='2025-09-23'></div><div class='cell abroad' data-idx='541' title='2025-09-24'></div><div class='cell abroad' data-idx='542' title='2025-09-25'></div><div class='cell home' data-idx='543' title='2025-09-26'></div><div class='cell home' data-idx='544' title='2025-09-27'></div><div class='cell home' data-idx='545' title='2025-09-28'></div><div class='cell home' data-idx='546' title='2025-09-29'></div><div class='cell home' data-idx='547' title='2025-09-30'></div></div></div><div class='month'><div class='month-name'>Oct</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='548' title='2025-10-01'></div><div class='cell home' data-idx='549' title='2025-10-02'></div><div class='cell home' data-idx='550' title='2025-10-03'></div><div class='cell home' data-idx='551' title='2025-10-04'></div><div class='cell home' data-idx='552' title='2025-10-05'></div><div class='cell home' data-idx='553' title='2025-10-06'></div><div class='cell home' data-idx='554' title='2025-10-07'></div><div class='cell home' data-idx='555' title='2025-10-08'></div><div class='cell home' data-idx='556' title='2025-10-09'></div><div class='cell home' data-idx='557' title='2025-10-10'></div><div class='cell home' data-idx='558' title='2025-10-11'></div><div class='cell home' data-idx='559' title='2025-10-12'></div><div class='cell home' data-idx='560' title='2025-10-13'></div><div class='cell home' data-idx='561' title='2025-10-14'></div><div class='cell home' data-idx='562' title='2025-10-15'></div><div class='cell home' data-idx='563' title='2025-10-16'></div><div class='cell home' data-idx='564' title='2025-10-17'></div><div class='cell home' data-idx='565' title='2025-10-18'></div><div class='cell home' data-idx='566' title='2025-10-19'></div><div class='cell home' data-idx='567' title='2025-10-20'></div><div class='cell home' data-idx='568' title='2025-10-21'></div><div class='cell home' data-idx='569' title='2025-10-22'></div><div class='cell home' data-idx='570' title='2025-10-23'></div><div class='cell home' data-idx='571' title='2025-10-24'></div><div class='cell home' data-idx='572' title='2025-10-25'></div><div class='cell home' data-idx='573' title='2025-10-26'></div><div class='cell home' data-idx='574' title='2025-10-27'></div><div class='cell home' data-idx='575' title='2025-10-28'></div><div class='cell home' data-idx='576' title='2025-10-29'></div><div class='cell home' data-idx='577' title='2025-10-30'></div><div class='cell home' data-idx='578' title='2025-10-31'></div></div></div><div class='month'><div class='month-name'>Nov</div><div class='mini'><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell empty'></div><div class='cell home' data-idx='579' title='2025-11-01'></div><div class='cell home' data-idx='580' title='2025-11-02'></div><div class='cell home' data-idx='581' title='2025-11-03'></div><div class='cell home' data-idx='582' title='2025-11-04'></div><div class='cell home' data-idx='583' title='2025-11-05'></div><div class='cell future' data-idx='584' title='2025-11-06'></div><div class='cell future' data-idx='585' title='2025-11-07'></div><div class='cell future' data-idx='586' title='2025-11-08'></div><div class='cell future' data-idx='587' title='2025-11-09'></div><div class='cell future' data-idx='588' title='2025-11-10'></div><div class='cell future' data-idx='589' title='2025-11-11'></div><div class='cell future' data-idx='590' title='2025-11-12'></div><div class='cell future' data-idx='591' title='2025-11-13'></div><div class='cell future' data-idx='592' title='2025-11-14'></div><div class='cell future' data-idx='593' title='2025-11-15'></div><div class='cell future' data-idx='594' title='2025-11-16'></div><div class='cell future' data-idx='595' title='2025-11-17'></div><div class='cell future' data-idx='596' title='2025-11-18'></div><div class='cell future' data-idx='597' title='2025-11-19'></div><div class='cell future' data-idx='598' title='2025-11-20'></div><div class='cell future' data-idx='599' title='2025-11-21'></div><div class='cell future' data-idx='600' title='2025-11-22'></div><div class='cell future' data-idx='601' title='2025-11-23'></div><div class='cell future' data-idx='602' title='2025-11-24'></div><div class='cell future' data-idx='603' title='2025-11-25'></div><div class='cell future' data-idx='604' title='2025-11-26'></div><div class='cell future' data-idx='605' title='2025-11-27'></div><div class='cell future' data-idx='606' title='2025-11-28'></div><div class='cell future' data-idx='607' title='2025-11-29'></div><div class='cell future' data-idx='608' title='2025-11-30'></div></div></div><div class='month'><div class='month-name'>Dec</div><div class='mini'><div class='cell future' data-idx='609' title='2025-12-01'></div><div class='cell future' data-idx='610' title='2025-12-02'></div><div class='cell future' data-idx='611' title='2025-12-03'></div><div class='cell future' data-idx='612' title='2025-12-04'></div><div class='cell future' data-idx='613' title='2025-12-05'></div><div class='cell future' data-idx='614' title='2025-12-06'></div><div class='cell future' data-idx='615' title='2025-12-07'></div><div class='cell future' data-idx='616' title='2025-12-08'></div><div class='cell future' data-idx='617' title='2025-12-09'></div><div class='cell future' data-idx='618' title='2025-12-10'></div><div class='cell future' data-idx='619' title='2025-12-11'></div><div class='cell future' data-idx='620' title='2025-12-12'></div><div class='cell future' data-idx='621' title='2025-12-13'></div><div class='cell future' data-idx='622' title='2025-12-14'></div><div class='cell future' data-idx='623' title='2025-12-15'></div><div class='cell future' data-idx='624' title='2025-12-16'></div><div class='cell future' data-idx='625' title='2025-12-17'></div><div class='cell future' data-idx='626' title='2025-12-18'></div><div class='cell future' data-idx='627' title='2025-12-19'></div><div class='cell future' data-idx='628' title='2025-12-20'></div><div class='cell future' data-idx='629' title='2025-12-21'></div><div class='cell future' data-idx='630' title='2025-12-22'></div><div class='cell future' data-idx='631' title='2025-12-23'></div><div class='cell future' data-idx='632' title='2025-12-24'></div><div class='cell future' data-idx='633' title='2025-12-25'></div><div class='cell future' data-idx='634' title='2025-12-26'></div><div class='cell future' data-idx='635' title='2025-12-27'></div><div class='cell future' data-idx='636' title='2025-12-28'></div><div class='cell future' data-idx='637' title='2025-12-29'></div><div class='cell future' data-idx='638' title='2025-12-30'></div><div class='cell future' data-idx='639' title='2025-12-31'></div></div></div></div><script>const baseDate = new Date('2024-04-01');
let periodEnd = new Date('2027-12-31');
const windowDays = 365;
const maxDays = 180;
let flags = new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);
let planned = new Uint8Array(1370);
let plannedRanges = []; let nextPlanId = 1;
function sumRange(arr, start, end){let s=0; for(let i=start;i<=end;i++){s+=arr[i]||0;} return s;}
function worstWindow(){let n=flags.length;let best=0; for(let i=0;i<n;i++){let e=Math.min(n-1,i+windowDays-1); let sum=0; for(let j=i;j<=e;j++){sum+=(flags[j]||0) | (planned[j]||0);} if(sum>best) best=sum;} return best;}
function remainingFrom(startIdx){let n=flags.length; let e=Math.min(n-1,startIdx+windowDays-1); let sum=0; for(let j=startIdx;j<=e;j++){sum+=(flags[j]||0) | (planned[j]||0);} return Math.max(0, maxDays - sum);}
function idxFromDate(d){ return Math.floor((d - baseDate)/(24*3600*1000)); }
function dateFromIdx(i){ return new Date(baseDate.getTime() + i*24*3600*1000); }
function ensureSizeForDate(d){ const need = idxFromDate(d)+1; if(need>flags.length){ const nf = new Uint8Array(need); nf.set(flags); flags = nf; const np = new Uint8Array(need); np.set(planned); planned = np; } }
function recalcPlannedFromRanges(){ planned.fill(0); for(const r of plannedRanges){ for(let i=r.startIdx;i<=r.endIdx;i++){ planned[i]=1; } } }
function renderPlansTable(){ const tbody = document.querySelector('#plansTable tbody'); tbody.innerHTML=''; plannedRanges.sort((a,b)=>a.startIdx-b.startIdx); let i=1; for(const r of plannedRanges){ const tr=document.createElement('tr'); const sd = dateFromIdx(r.startIdx).toISOString().slice(0,10); const ed = dateFromIdx(r.endIdx).toISOString().slice(0,10); tr.innerHTML = `<td>${i}</td><td><input type='date' data-id='${r.id}' data-role='start' value='${sd}'></td><td><input type='date' data-id='${r.id}' data-role='end' value='${ed}'></td><td>${(r.endIdx-r.startIdx+1)}</td><td><button data-id='${r.id}' data-role='remove'>Remove</button></td>`; tbody.appendChild(tr); i++; } }
function attachPlansTableHandlers(){ const tbody = document.querySelector('#plansTable tbody'); tbody.addEventListener('input', (e)=>{ const t=e.target; if(!(t instanceof HTMLInputElement)) return; const id=parseInt(t.getAttribute('data-id')); const role=t.getAttribute('data-role'); const val=t.value; const r = plannedRanges.find(x=>x.id===id); if(!r||!val) return; const d=new Date(val); if(role==='start'){ r.startIdx = Math.min(r.endIdx, Math.max(0, idxFromDate(d))); } else if(role==='end'){ r.endIdx = Math.max(r.startIdx, Math.max(0, idxFromDate(d))); } recalcPlannedFromRanges(); const lastYear = computeLastRelevantYear(); ensureRenderedUntil(lastYear); trimRenderedTo(lastYear); applyClasses(); updateMetrics(); renderPlansTable(); }); tbody.addEventListener('click',(e)=>{ const btn = e.target.closest('button[data-role=remove]'); if(!btn) return; const id=parseInt(btn.getAttribute('data-id')); plannedRanges = plannedRanges.filter(x=>x.id!==id); recalcPlannedFromRanges(); const lastYear = computeLastRelevantYear(); trimRenderedTo(lastYear); applyClasses(); updateMetrics(); renderPlansTable(); }); }
function trimRenderedTo(year){ const outer = document.getElementById('outer'); let currentLast = parseInt(outer.getAttribute('data-last-year')); while(currentLast>year){
  for(let i=0;i<13;i++){ const lastChild = outer.lastElementChild; if(lastChild) outer.removeChild(lastChild); }
  currentLast -= 1; outer.setAttribute('data-last-year', String(currentLast));
} }
function buildMonth(y,m,name){ const first = new Date(y, m-1, 1); const next = new Date(y, m, 1); const last = new Date(next - 24*3600*1000); const month = document.createElement('div'); month.className='month'; const title = document.createElement('div'); title.className='month-name'; title.textContent=name; const mini = document.createElement('div'); mini.className='mini'; const offset = (first.getDay()+6)%7; for(let i=0;i<offset;i++){ const e=document.createElement('div'); e.className='cell empty'; mini.appendChild(e);} for(let d=new Date(first); d<=last; d.setDate(d.getDate()+1)){ const idx = idxFromDate(d); const cell=document.createElement('div'); cell.className='cell empty'; cell.setAttribute('title', d.toISOString().slice(0,10)); if(d>=baseDate){ cell.setAttribute('data-idx', String(idx)); } mini.appendChild(cell);} month.appendChild(title); month.appendChild(mini); return month;}
function appendYear(y){ const outer = document.getElementById('outer'); const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']; const yearDiv = document.createElement('div'); yearDiv.className='year'; yearDiv.textContent=String(y); outer.appendChild(yearDiv); for(let m=1;m<=12;m++){ outer.appendChild(buildMonth(y,m,months[m-1])); } }
function ensureRenderedUntil(year){ const outer = document.getElementById('outer'); const currentLastYear = parseInt(outer.getAttribute('data-last-year')); if(year<=currentLastYear) return; for(let y=currentLastYear+1; y<=year; y++){ appendYear(y); } outer.setAttribute('data-last-year', String(year)); }
function computeLastRelevantYear(){ let last = -1; for(let i=0;i<flags.length;i++){ if( (flags[i]|planned[i])===1) last = i; } if(last<0) return Math.min(periodEnd.getFullYear(), new Date().getFullYear()); const d = dateFromIdx(last); return Math.max(Math.min(periodEnd.getFullYear(), new Date().getFullYear()), d.getFullYear()); }
function updateMetrics(){
  const w = worstWindow();
  document.getElementById('worst').textContent = `Worst 12-month: ${w} days`;
  const badge = document.getElementById('status'); const notok = w>maxDays; badge.textContent = notok ? 'NOT COMPLIANT' : 'COMPLIANT'; badge.className = 'status-badge ' + (notok ? 'notok' : 'ok');
  const qs = document.getElementById('qstart').value;
  if(qs){ const d = new Date(qs); const idx = Math.floor((d - baseDate)/(24*3600*1000)); if(idx>=0){ const rem = remainingFrom(idx); document.getElementById('remaining').textContent = `Remaining from ${qs}: ${rem}`; } }
}
function applyClasses(){
  const now = new Date(); now.setHours(0,0,0,0);
  document.querySelectorAll('.cell[data-idx]').forEach(el => {
    const i = parseInt(el.getAttribute('data-idx'));
    const abroad = (flags[i]||0)===1;
    const plan = (planned[i]||0)===1;
    const d = new Date(baseDate.getTime() + i*24*3600*1000);
    let cls = 'home';
    if(abroad || plan){ 
      if(d > now){ cls = 'planned'; } else { cls = 'abroad'; }
    } else {
      if(d > now){ cls = 'future'; }
    }
    el.className = 'cell ' + cls;
  });
}
function resizeCells(){ const outer = document.getElementById('outer'); const yearCol = 56; const gap = 4; const available = Math.max(0, outer.clientWidth - yearCol - (12-1)*gap); const monthWidth = Math.max(80, Math.floor(available/12)); const size = Math.max(8, Math.min(18, Math.floor((monthWidth - 8 - (7-1)*1)/7))); document.documentElement.style.setProperty('--size', size + 'px'); }
document.addEventListener('click', (e)=>{
  const el = e.target.closest('.cell[data-idx]'); if(!el) return;
  const i = parseInt(el.getAttribute('data-idx'));
  const isAlreadyAbroad = (flags[i]||0)===1;
  const isAlreadyPlanned = (planned[i]||0)===1;
  if(isAlreadyAbroad && !isAlreadyPlanned) return; // cannot toggle base abroad
  planned[i] = planned[i] ? 0 : 1;
  // sync plannedRanges to include this single day toggle as a 1-day range if turning on
  if(planned[i]){ plannedRanges.push({id: nextPlanId++, startIdx:i, endIdx:i}); } else { // turning off: split or shrink overlapping ranges
    const ranges=[]; for(const r of plannedRanges){ if(i<r.startIdx || i>r.endIdx){ ranges.push(r); } else { if(r.startIdx<i) ranges.push({id:r.id, startIdx:r.startIdx, endIdx:i-1}); if(i<r.endIdx) ranges.push({id:r.id, startIdx:i+1, endIdx:r.endIdx}); } } plannedRanges = ranges;
  }
  const lastYear = computeLastRelevantYear(); ensureRenderedUntil(lastYear); trimRenderedTo(lastYear);
  applyClasses(); updateMetrics(); renderPlansTable();
});
document.getElementById('qstart').addEventListener('change', updateMetrics);
document.getElementById('addPlan').addEventListener('click', ()=>{
  const ps = document.getElementById('pstart').value; const pe = document.getElementById('pend').value; if(!ps||!pe) return;
  const ds = new Date(ps); const de = new Date(pe); if(de<ds) return;
  ensureSizeForDate(de);
  const startIdx = Math.max(0, idxFromDate(ds));
  const endIdx = idxFromDate(de);
  plannedRanges.push({id: nextPlanId++, startIdx:startIdx, endIdx:endIdx});
  recalcPlannedFromRanges();
  const lastYear = computeLastRelevantYear(); ensureRenderedUntil(lastYear); trimRenderedTo(lastYear);
  applyClasses(); updateMetrics();
  renderPlansTable();
});
document.getElementById('clearPlan').addEventListener('click', ()=>{
  plannedRanges = []; planned.fill(0); trimRenderedTo(computeLastRelevantYear()); applyClasses(); updateMetrics(); renderPlansTable();
});
window.addEventListener('resize', resizeCells); resizeCells();
attachPlansTableHandlers(); renderPlansTable(); applyClasses(); updateMetrics();
</script></body></html>